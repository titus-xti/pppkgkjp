:root{
  --bg:#e9e0d6;
  --accent:#bf8f6f;
  --dark:#111;
}
* { box-sizing: border-box; font-family: "Segoe UI", Roboto, Arial, sans-serif; }
body {
  margin:0;
  background: linear-gradient(135deg,#efe8df 0%, #ded1c3 100%);
  color: var(--dark);
}
.container {
  max-width: 1100px;
  margin: 24px auto;
  background: #f5efe8;
  padding: 16px;
  border-radius: 8px;
  box-shadow: 0 6px 18px rgba(0,0,0,0.08);
}
header { text-align:center; margin-bottom: 12px; }
header h1 { color:#d33; margin: 6px 0; font-size:34px; letter-spacing:2px; }
.question { display:inline-block; padding:12px 18px; border-radius:4px; margin-top:8px; font-weight:700; }

/* Main layout */
main { 
  display: flex; 
  flex-direction: column; 
  gap: 18px; 
  padding: 12px; 
  align-items: center; 
}

/* Sidebar/Left section */
.left { 
  width: 100%; 
  max-width: 300px;
  background: #e3dbd3; 
  padding: 15px; 
  border-radius: 6px; 
  text-align: center; 
  margin: 0 auto;
}

.left .photo img { 
  width: 100%; 
  max-width: 220px;
  height: auto;
  aspect-ratio: 220/260;
  object-fit: cover; 
  border-radius: 4px; 
  border: 4px solid #000; 
  display: block; 
  margin: 0 auto; 
}
.left .meta { margin-top:8px; }
.left .calon { font-size:14px; opacity:0.9; }
.left .name { font-weight:700; margin-top:4px; }

/* Right section */
.right { 
  width: 100%;
  max-width: 600px;
  display: flex; 
  flex-direction: column; 
  gap: 12px; 
  margin: 0 auto;
  padding: 0 10px;
}
.topbox { padding:12px; border-radius:6px; min-height:80px; display:flex; align-items:center; justify-content:center; overflow:hidden; }
.notice { font-weight:700; font-size:18px; }
#countdown { margin-top:6px; font-size:15px; }

.choices { display:flex; gap:12px; justify-content:center; align-items:center; padding:6px; }
.choiceBox { flex:1; border-radius:4px; padding:28px; display:flex; align-items:center; justify-content:center; border:2px solid #b5a69a; background:#cdbfb3; transition: transform .12s, box-shadow .12s; }
/* Choice boxes */
.choiceBox.big { 
  font-size: 24px; 
  font-weight: 800; 
  min-height: 120px;
  height: auto;
  padding: 15px 5px;
  flex-basis: calc(50% - 10px); 
  margin: 5px;
  display: flex;
  align-items: center;
  justify-content: center;
  text-align: center;
  word-break: normal;
  overflow-wrap: normal;
}

/* Responsive adjustments */
@media (min-width: 768px) {
  main {
    flex-direction: row;
    align-items: flex-start;
  }
  
  .left {
    position: sticky;
    top: 20px;
  }
  
  .choiceBox.big {
    font-size: 34px;
    min-height: 150px;
  }
}

/* Small mobile devices */
@media (max-width: 480px) {
  .container {
    margin: 10px;
    padding: 10px;
  }
  
  header h1 {
    font-size: 28px;
  }
  
  .question {
    font-size: 14px;
    padding: 8px 12px;
  }
  
  .choiceLabel {
    font-size: 28px;
    line-height: 1.2;
  }
  
  form input[type="text"] {
    width: 100%;
    max-width: 260px;
    box-sizing: border-box;
  }
  
  .modal-content {
    width: 95%;
    padding: 15px;
  }

  /* Prevent overlap: stack input and button on small screens */
  .code-form .form-group {
    flex-direction: column;
    align-items: stretch;
    gap: 8px;
  }
  .code-input {
    width: 100%;
    min-width: 0;
  }
  .submit-button {
    width: 100%;
    height: 44px;
  }

  /* Slightly tighter upper bound for button text on very small screens */
  .choiceLabel {
    font-size: clamp(16px, 7.5vw, 30px);
  }

  /* Force all text inputs to be full width on very small devices */
  form input[type="text"] {
    width: 100% !important;
    max-width: 100% !important;
  }
  /* Ensure the code entry section and form occupy full width */
  .code-entry-container { width: 100%; box-sizing: border-box; padding: 16px; }
  .code-form { width: 100%; }
  .code-form .form-group { width: 100%; }
}
.choiceLabel {
  font-size: clamp(20px, 6.5vw, 36px);
  font-weight: 800;
  text-align: center;
  white-space: nowrap; /* keep single-word labels like SETUJU on one line */
}
.choiceBox input[type="radio"] { display:none; }

.choiceBox:hover { transform: translateY(-4px); cursor:pointer; }
.choiceBox.selected { box-shadow: 0 8px 20px rgba(0,0,0,0.18); transform: translateY(-6px) scale(1.02); outline: 6px solid rgba(0,0,0,0.06); }

.submitRow { text-align:center; margin-top:10px; }
button { background:#1f7a1f; color:#fff; border:0; padding:12px 22px; font-weight:700; border-radius:4px; cursor:pointer; }
button.secondary { background:#666; }
button:disabled { opacity:0.5; cursor:not-allowed; }

form label { display:block; margin-bottom:6px; font-weight:600; }

/* Modal styles */
#confirmModal {
  display: none;
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-color: rgba(0,0,0,0.7);
  z-index: 10000;
  justify-content: center;
  align-items: center;
  opacity: 0;
  transition: opacity 0.3s ease-in-out;
  pointer-events: auto;
}

#confirmModal.show {
  display: flex;
  opacity: 1;
  pointer-events: auto;
}

#confirmModal .modal-content {
  background: white;
  padding: 2rem;
  border-radius: 8px;
  width: 90%;
  max-width: 500px;
  box-shadow: 0 4px 20px rgba(0,0,0,0.2);
  position: relative;
  transform: scale(0.9);
  transition: transform 0.3s ease-in-out;
  pointer-events: auto;
}

body.modal-open {
  overflow: hidden;
  position: fixed;
  width: 100%;
  height: 100%;
}

.modal-buttons button {
  pointer-events: auto;
  cursor: pointer;
  padding: 10px 20px;
  border: none;
  border-radius: 4px;
  font-weight: bold;
  transition: all 0.2s;
}

.btn-confirm {
  background-color: #4CAF50;
  color: white;
}

.btn-cancel {
  background-color: #f44336;
  color: white;
  margin-right: 10px;
}

.btn-cancel:hover {
  background-color: #d32f2f;
  transform: translateY(-2px);
}

form input[type="text"] { padding:8px; width:100%; max-width:100%; border-radius:4px; border:1px solid #999; }

.danger { color:#900; font-weight:700; }

/* Used code notice */
.used-code-notice {
  background: #ff9800;
  color: white;
  padding: 20px;
  border-radius: 6px;
  font-size: 1.1em;
  font-weight: 600;
  text-align: center;
  margin: 20px auto;
  max-width: 500px;
  box-shadow: 0 3px 6px rgba(0,0,0,0.16);
}

/* Thank you notice */
.thank-you-notice {
  background: #4CAF50;
  color: white;
  padding: 25px;
  border-radius: 6px;
  font-size: 1.2em;
  font-weight: 600;
  text-align: center;
  margin: 20px auto;
  max-width: 500px;
  box-shadow: 0 3px 6px rgba(0,0,0,0.16);
  animation: fadeIn 0.5s ease-in-out;
}

/* Question box styling */
.question-box {
  background: #fff;
  border-radius: 8px;
  padding: 20px;
  margin: 15px 0;
  box-shadow: 0 2px 8px rgba(0,0,0,0.1);
  border: 1px solid #e0e0e0;
}

.question {
  color: #333;
  font-size: 1.1em;
  line-height: 1.5;
  margin: 0;
}

/* Code entry form */
.code-entry-container {
  max-width: 400px;
  margin: 2rem auto;
  padding: 2rem;
  background: #f8f9fa;
  border-radius: 8px;
  box-shadow: 0 2px 4px rgba(0,0,0,0.1);
}

.code-entry-container h3 {
  margin-top: 0;
  color: #2c3e50;
  margin-bottom: 1.5rem;
  text-align: center;
}

.code-form .form-group {
  display: flex;
  gap: 10px;
  margin-top: 1rem;
  flex-wrap: wrap;
  align-items: stretch;
}

.code-input {
  flex: 1;
  padding: 12px 15px;
  border: 1px solid #ddd;
  border-radius: 4px;
  font-size: 1rem;
  transition: border-color 0.3s;
  min-width: 0; /* prevent flex item overflow on mobile */
}

.code-input:focus {
  outline: none;
  border-color: #4CAF50;
  box-shadow: 0 0 0 2px rgba(76, 175, 80, 0.2);
}

.submit-button {
  background-color: #4CAF50;
  color: white;
  border: none;
  border-radius: 4px;
  padding: 0 20px;
  font-weight: 600;
  cursor: pointer;
  transition: background-color 0.3s;
  min-width: 0; /* allow shrinking within flex container */
}

.submit-button:hover {
  background-color: #45a049;
}

footer { margin-top:12px; text-align:center; font-size:13px; opacity:0.8; }

/* Modal */
.modal { position: fixed; inset:0; display:flex; align-items:center; justify-content:center; background: rgba(0,0,0,0.45); opacity:0; pointer-events:none; transition: opacity .18s; }
.modal.open { opacity:1; pointer-events:auto; }
.modal-content { background: #fff; padding:20px; border-radius:10px; min-width:320px; box-shadow: 0 12px 38px rgba(0,0,0,0.32); text-align:center; }
.modal-actions { margin-top:14px; display:flex; gap:8px; justify-content:center; }

/* Admin results table */
.results { width:100%; border-collapse: collapse; margin-top:12px; }
.results th, .results td { padding:8px 10px; border:1px solid #ddd; text-align:left; font-size:14px; }
.results thead th { background:#f0f0f0; font-weight:700; }

/* Horizontal scroll helper for wide tables on narrow screens */
.table-scroll { width: 100%; display: block; overflow-x: auto; -webkit-overflow-scrolling: touch; }

/* Stack code input and button on small-to-medium phones */
@media (max-width: 720px) {
  .code-form .form-group { flex-direction: column; align-items: stretch; gap: 8px; }
  .code-input { width: 100%; min-width: 0; }
  .submit-button { width: 100%; height: 44px; }
}
